var DICharts;(()=>{"use strict";var t={744:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?c((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function c(t,n,u){(u=u||{}).arrayMerge=u.arrayMerge||o,u.isMergeableObject=u.isMergeableObject||e,u.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(t)?l?u.arrayMerge(t,n,u):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return c;var n=e.customMerge(t);return"function"==typeof n?n:c}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,u):r(n,u)}c.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return c(t,n,e)}),{})};var u=c;t.exports=u}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{Chart:()=>u,handler:()=>L});var u=function(){function t(e){var n=this;o(this,t),c(this,"chartElement",void 0),c(this,"theme","default"),c(this,"filters",[]),c(this,"setFilters",(function(t){n.filters=t})),c(this,"getFilters",(function(){return n.filters})),c(this,"showLoading",(function(){var t=n.getParentElement();t&&function(t){t.classList.add("chart-container--loading");var e=t.querySelector(".chart-loading");e&&e.classList.remove("hide")}(t)})),c(this,"hideLoading",(function(){var t=n.getParentElement();t&&function(t){t.classList.remove("chart-container--loading");var e=t.querySelector(".chart-loading");e&&e.classList.add("hide")}(t)})),c(this,"addFilter",(function(t,e,r){var o=n.getElement(t);return e.forEach((function(t){var e=document.createElement("option");e.value="string"==typeof t?t:t.value,e.text=n.getFilterText("string"==typeof t?t:t.label,r),o.appendChild(e)})),o.classList.add("data-selector--active"),o})),c(this,"getThemes",(function(){return{rainbow:["#e84439","#eb642b","#f49b21","#109e68","#0089cc","#893f90","#c2135b","#f8c1b2","#f6bb9d","#fccc8e","#92cba9","#88bae5","#c189bb","#e4819b"],default:["#6c120a","#a21e25","#cd2b2a","#dc372d","#ec6250","#f6b0a0","#fbd7cb","#fce3dc"],sunflower:["#7d4712","#ba6b15","#df8000","#f7a838","#fac47e","#fedcab","#fee7c1","#feedd4"],marigold:["#7a2e05","#ac4622","#cb5730","#ee7644","#f4a57c","#facbad","#fcdbbf","#fde5d4"],rose:["#65093d","#8d0e56","#9f1459","#d12568","#e05c86","#f3a5b6","#f6b8c1","#f9cdd0"],lavendar:["#42184c","#632572","#732c85","#994d98","#af73ae","#cb98c4","#deb5d6","#ebcfe5"],bluebell:["#0a3a64","#00538e","#1060a3","#4397d3","#77adde","#a3c7eb","#bcd4f0","#d3e0f4"],leaf:["#08492f","#005b3e","#00694a","#3b8c62","#74bf93","#a2d1b0","#b1d8bb","#c5e1cb"]}})),c(this,"getTheme",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return t?[t,n.getThemes()[t]]:[n.theme,n.getThemes()[n.theme]]})),c(this,"getPageTheme",(function(){var t,e=document.body.classList,r=n.getThemes();return Object.keys(r).forEach((function(r){e.contains("body--".concat(r))&&(t=n.getTheme(r))})),t})),this.chartElement=this.getElement(e)}return a(t,[{key:"getParentElement",value:function(){return this.chartElement.parentElement}},{key:"getFilterText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.labelPrefix,r=e.labelSuffix;return"".concat(n||"").concat(t).concat(r||"")}},{key:"handleFilter",value:function(t){var e=this.getParentElement();if(e){var n=e.querySelector(".".concat(t.className));if(!n)throw new Error("No element with class ".concat(t.className));var r=t.options;!r&&t.getOptions&&(r=t.getOptions(this)),r&&r.length&&(this.addFilter(n,r||[]),this.addFilterEvents(n,t),this.setFilters(this.filters.concat({name:t.className,value:[r[0]]})))}}},{key:"addFilterEvents",value:function(t,e){var n=this;e.onChange&&t.addEventListener("change",(function(t){var r=t.target.value;n.setFilters(n.filters.map((function(t){return t.name===e.className&&-1===t.value.indexOf(r)&&(t.value=e.multi?t.value.concat(r):[r]),t}))),e.onChange(t,n)}))}},{key:"initCustomWidgets",value:function(t){var e=this;t.filters&&t.filters.forEach((function(t){return e.handleFilter(t)}))}},{key:"getElement",value:function(t){if(!t)throw new Error("An id to the element or an actual element is required");if("string"==typeof t){var e=document.getElementById(t);if(!e)throw new Error("No element with id ".concat(t));return e}return t}}]),t}();function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?s(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var g=n(744),v=n.n(g);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={hovermode:"closest"},O={displayModeBar:!0,responsive:!0,showLink:!1,plotlyServerURL:"https://chart-studio.plotly.com",toImageButtonOptions:{width:1200,height:657},modeBarButtonsToRemove:["pan2d","select2d","lasso2d","hoverClosestCartesian","hoverCompareCartesian","toggleSpikelines"]},P=function(t){d(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=p(e);if(n){var o=p(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return y(this,t)});function i(t,e){var n;return o(this,i),c(s(n=r.call(this,t)),"options",void 0),c(s(n),"data",[]),c(s(n),"layout",{}),c(s(n),"config",{}),c(s(n),"plot",void 0),c(s(n),"sourceData",void 0),c(s(n),"getPlot",(function(){return n.plot})),c(s(n),"setData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.data=t,s(n)})),c(s(n),"setLayout",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.layout=v()(n.layout,t),n.setTheme(n.options.theme)})),c(s(n),"getLayout",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v()(w,t)})),c(s(n),"setTheme",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return n.layout=m(m({},n.layout),{},{colorway:n.getThemes()[t]}),n.theme=t,s(n)})),c(s(n),"setConfig",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.config=v()(n.config,t),s(n)})),c(s(n),"getConfig",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v()(O,t)})),c(s(n),"getOptions",(function(){return n.options})),c(s(n),"csv",(function(t){return new Promise((function(e){window.Plotly.d3.csv(t,(function(t){e(t)}))}))})),c(s(n),"updatePlot",(function(){return n.plot?window.Plotly.react(n.chartElement,n.data,n.getLayout(n.layout),n.getConfig(n.config)).then((function(t){return n.addPlot(t),n.options.theme||n.updateLayoutColorway(),n.hideLoading(),{plot:t,config:n.options}})):n.newPlot(n.chartElement,n.data,n.getLayout(n.layout),n.getConfig(n.config))})),c(s(n),"updateLayoutColorway",(function(){if(n.plot){var t=n.getThemes(),e=void 0;if(n.plot.calcdata.length>8)e=t.rainbow;else for(var r=document.body.classList,o=0,i=Object.entries(t);o<i.length;o++){var a=(s=i[o],f=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(s,f)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(s,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],u=a[1];if(r.contains("body--".concat(c))&&u.length<=8){e=u;break}}e&&window.Plotly.relayout(n.chartElement,{colorway:e})}var s,f})),n.options=e,n}return a(i,[{key:"setSourceData",value:function(t){return this.sourceData=t,this}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"addPlot",value:function(t){return this.plot=t,this}},{key:"newPlot",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return window.Plotly.newPlot(t,e,r,this.getConfig(o)).then((function(t){return t.on("plotly_click",(function(t){n.options.onClick&&n.options.onClick(t,n)})),!n.plot&&n.options.widgets&&n.initCustomWidgets(n.options.widgets),n.addPlot(t),n.initPlotlyWidgets(),n.options.theme||n.updateLayoutColorway(),n.hideLoading(),{plot:t,config:n.options}}))}},{key:"initPlotlyWidgets",value:function(){var t=this.options.widgets,e=void 0===t?{}:t;e.legend&&this.handleLegend(e.legend)}},{key:"handleLegend",value:function(t){var e=this;this.plot&&t.onClick&&this.plot.on("plotly_legendclick",(function(n){return!t.onClick||t.onClick(n,e)}))}}]),i}(u),S={legend:{top:10,textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},tooltip:{trigger:"axis",textStyle:{fontFamily:"Geomanist Regular,sans-serif"}},toolbox:{showTitle:!1,feature:{saveAsImage:{title:"Save as image",pixelRatio:2}},right:20,tooltip:{show:!0,textStyle:{fontFamily:"Geomanist Regular,sans-serif",formatter:function(t){return"<div>".concat(t.title,"</div>")}}}},xAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}},yAxis:{axisLabel:{fontFamily:"Geomanist Regular,sans-serif",fontSize:13},splitLine:{show:!1}}};var j,E,C=function(t){d(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=p(e);if(n){var o=p(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return y(this,t)});function i(t,e){var n;return o(this,i),c(s(n=r.call(this,t)),"config",void 0),c(s(n),"options",{}),c(s(n),"sourceData",void 0),c(s(n),"chart",void 0),c(s(n),"getConfig",(function(){return n.config})),c(s(n),"setOptions",(function(t){return n.options=v()(S,t),s(n)})),c(s(n),"csv",(function(t){return new Promise((function(e){window.d3.csv(t,(function(t){e(t)}))}))})),c(s(n),"setChart",(function(t){return n.chart=t,s(n)})),c(s(n),"getChart",(function(){return n.chart||(n.chart=window.echarts.init(n.chartElement)),n.chart})),c(s(n),"updateChart",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.chart?n.chart.setOption(n.options,!t):(n.chart=window.echarts.init(n.chartElement),n.chart.setOption(n.options),n.config.widgets&&n.initCustomWidgets(n.config.widgets)),n.hideLoading(),n.chart})),n.config=e,e.options&&(n.options=e.options),n}return a(i,[{key:"setSourceData",value:function(t){return this.sourceData=t,this}},{key:"getSourceData",value:function(){return this.sourceData}}]),i}(u),L=(j=[],E=function(t){var e=function(t){if(!t)throw new Error("An indentifying class for the element is required");return document.querySelectorAll(".".concat(t,":not(.dicharts-handler--active)"))}(t.className);!function(t,e){t.plotly&&t.plotly.onAdd&&t.plotly.onAdd(e),t.d3&&t.d3.onAdd&&t.d3.onAdd(e),t.echarts&&t.echarts.onAdd&&t.echarts.onAdd(e)}(t,e),Array.prototype.forEach.call(e,(function(e){e.classList.add("dicharts-handler--active"),t.plotly?function(t,e){var n=new P(t,e);n.showLoading(),n.setLayout(e.layout).setConfig(e.config),e.data&&e.data.length?n.setData(e.data).updatePlot():e.csv&&n.csv(e.csv.url).then((function(t){var r;n.setSourceData(t),null===(r=e.csv)||void 0===r||r.onFetch(t,e,n)}))}(e,t.plotly):t.echarts&&function(t,e){var n=new C(t,e);n.showLoading(),e.csv&&n.csv(e.csv.url).then((function(t){var r;n.setSourceData(t),null===(r=e.csv)||void 0===r||r.onFetch(t,n)})),e.onInit&&e.onInit(n)}(e,t.echarts)}))},{addChart:function(t){j.push(t),E(t)},getCharts:function(){return j}});DICharts=r})();